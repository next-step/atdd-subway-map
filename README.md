# 지하철 노선도 미션
[ATDD 강의](https://edu.nextstep.camp/c/R89PYi5H) 실습을 위한 지하철 노선도 애플리케이션


## 도메인

### Station

- 상태
  - 역은 식별자와 이름을 가진다.
  - 이름은 2글자 이상이어야 한다.

### Line

- 상태
  - 노선은 식별자, 이름, 색, 거리, 노선 구간의 정보를 가진다.
  - 이름은 2글자 이상이어야 한다.
  - 색은 4글자 이상이어야 한다.
  - 거리는 1 이상이어야 한다.

- 행위
  - 노선을 생성한다.
    - 이름과 색, 상행 종점역의 식별자와 하행 종점역의 식별자, 거리를 입력받아 새로운 노선을 생성한다.
    - 상행 종점역과 하행 종점역을 식별자로 조회할 수 있어야 한다.
  - 노선을 수정한다.
    - 식별자와 이름, 색을 입력받아 기존 Line을 수정한다.
  - 노선을 삭제한다.
    - 식별자를 입력받아 노선을 삭제한다.
  - 노선을 조회한다.
      - 식별자를 입력받아 노선을 조회할 수 있다.
      - 식별자, 이름, 색, 거리, 역들의 정보를 조회한다.
  - 노선 목록을 조회한다.

### Sections

- 상태 
  - 노선 구간의 정보를 가지고 있다.
    - 노선 구간은 등록한 순서대로 연결되어 있다.
- 행위
  - 노선에 구간을 등록한다
    - 새로운 구간의 상행역은 해당 노선에 등록되어있는 하행 종점역이어야 한다.
    - 새로운 구간의 하행역은 해당 노선에 등록되어있는 역일 수 없다.
    - 등록하려는 구간의 역의 정보가 존재해야 한다.
  - 지하철 노선에 구간을 제거한다.
    - 지하철 노선에 등록된 하행 종점역만 제거할 수 있다.
    - 지하철 노선에 상행 종점역과 하행 종점역만 있는 경우 역을 삭제할 수 없다.

### Section

- 상태
  - 구간은 구간 식별자, 상핵역 식별자와 하행역 식별자, 그리고 거리가 포함된다.
    - 거리는 1 이상의 자연수이다.

## 구간 관리 기능의 예외 케이스를 고려하기

구간 등록과 제거 기능의 예외케이스들에 대한 시나리오를 정의, 그리고인수 테스트를 작성하고 이를 만족시키는 기능을 구현한다.

### 예외 케이스

- 제거 실패할 때의 예외 케이스가 존재한다.
- 생성 실패할 때의 예외 케이스가 존재한다.

### Section 인수 테스트

- 지하철 노선을 생성하고 구간을 등록하면 노선에서 등록한 구간을 조회할 수 있다.
- 지하철 노선을 생성하고 구간을 등록한 후 해당 구간을 제거하면 하행 종점역이 변경된다.
- 지하철 노선을 생성하고 노선 내부에 있는 역을 하행역으로 등록할 때 등록 실패한다.
- 지하철 노선을 생성하고 구간을 등록한 후 하행 종점역이 아닌 다른 역을 제거하려 하면 제거 실패한다.
