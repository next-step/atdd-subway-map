# 지하철 노선도 미션
[ATDD 강의](https://edu.nextstep.camp/c/R89PYi5H) 실습을 위한 지하철 노선도 애플리케이션


## 도메인

### Station

- 상태
  - 역은 식별자와 이름을 가진다.
  - 이름은 2글자 이상이어야 한다.

### Line

- 상태
  - 노선은 식별자, 이름, 색, 거리, 역들의 정보를 가진다.
  - 이름은 2글자 이상이어야 한다.
  - 색은 4글자 이상이어야 한다.
  - 거리는 1 이상이어야 한다.
  - 역들 안에 들어가는 역은 최소 두 개이다.
  - 역들 안에는 상행 종점역과 하행 종점역이 포함된다.

- 행위
  - 노선을 생성한다.
    - 이름과 색, 상행 종점역의 식별자와 하행 종점역의 식별자, 거리를 입력받아 새로운 노선을 생성한다.
    - 상행 종점역과 하행 종점역을 식별자로 조회할 수 있어야 한다.
  - 노선을 수정한다.
    - 식별자와 이름, 색을 입력받아 기존 Line을 수정한다.
  - 노선을 삭제한다.
    - 식별자를 입력받아 노선을 삭제한다.
  - 노선을 조회한다.
      - 식별자를 입력받아 노선을 조회할 수 있다.
      - 식별자, 이름, 색, 거리, 역들의 정보를 조회한다.
  - 노선 목록을 조회한다.

### Section
  - 상태
    - 구간은 구간 식별자, 상핵역 식별자와 하행역 식별자, 그리고 거리가 포함된다.
      - 거리는 음수가 아닌 자연수이다.
  - 행위
    - 지하철 노선에 구간을 등록한다
      - 새로운 구간의 상행역은 해당 노선에 등록되어있는 하행 종점역이어야 한다.
      - 새로운 구간의 하행역은 해당 노선에 등록되어있는 역일 수 없다.
      - 새로운 구간 등록시 위 조건에 부합하지 않는 경우 에러 처리한다.
    - 지하철 노선에 구간을 제거한다.
      - 지하철 노선에 등록된 역(하행 종점역)만 제거할 수 있다. 즉, 마지막 구간만 제거할 수 있다.
      - 지하철 노선에 상행 종점역과 하행 종점역만 있는 경우(구간이 1개인 경우) 역을 삭제할 수 없다.
      - 새로운 구간 제거시 위 조건에 부합하지 않는 경우 에러 처리한다.

### LineStation
  - 상태
    - 노선역은 노선역 식발자, 노선 식별자, 역 타입을 나타낸다.
      - 역 타입에는 상행 종점, 하행 종점, 둘 다 아님 중 하나의 정보를 가진다.
  - 행위

### 구간 관리 기능의 예외 케이스를 고려하기
- 구간 등록과 제거 기능의 예외케이스들에 대한 시나리오를 정의
- 인수 테스트를 작성하고 이를 만족시키는 기능을 구현

- 지하철 노선에 구간을 등록한다.
- 지하철 노선에 구간을 등록해서 하행 종점역을 조회하면 방금 등록한 구간의 하행 역이다.
- 지하철 노선에 구간을 등록하고 구간을 제거하면 하행 종점역이 변경된다.
